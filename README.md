## API сервис

Простой API сервис позволяющий взаимодействовать с базами данных автомобилей как через браузер, так и посредством серверных запросов.
Поддерживает 2 формата выходных данных json, и html.
В логах ошибки персонифицируются, становится понятно кто сделал запрос с ошибкой.
PHP фреймворков не использовалось.

Запустить и протестировать сервис:
``` bash
# cd api
# php -S localhost:8080
```
Для демонстрационных целей, сделан обработчик фейковой базы запросы в которую вернут одну и ту же структуру данных на запрос с любыми входными данными. Например так вернуть данные по госномеру ```А333АА33```:
```
http://localhost:8080/api/fake/num/a333aa33?client=admin4hgfvuv26idis4n8q7p6jl7yvz7uvurabjo
```
Ответ будет таким:
``` json
{
  "result": [
    {
      "Госномер": "Н290АР197",
      "Бренд": "МАЗДА 3",
      "Цвет": "СИНИЙ",
      "Год выпуска": "2007",
      "Объем двигателя": "1598",
      "Мощность двигателя": "105",
      "Шасси": "-",
      "Номер двигателя": "450689",
      "VIN": "JМZВК24V281685887"
    },
    {
      "Госномер": "Е107АТ77",
      "Бренд": "ШЕВРОЛЕ ТАХО GМТ900",
      "Цвет": "ЧЕРНЫЙ",
      "Год выпуска": "2012",
      "Объем двигателя": "5328",
      "Мощность двигателя": "325",
      "Шасси": "ССR274060",
      "Номер двигателя": "632789",
      "VIN": "ХWFSD3Е01С0000765"
    },
    {
      "Госномер": "В354ТУ42",
      "Бренд": "МИЦУБИСИ АSХ 2.0",
      "Цвет": "СЕРЫЙ",
      "Год выпуска": "2011",
      "Объем двигателя": "1998",
      "Мощность двигателя": "150",
      "Шасси": "JС0386",
      "Номер двигателя": "056421",
      "VIN": "JМВХТGА2WVE000505"
  }
  ],
  "success": true
}
```
Создан HTML обработчик для просмотра данных баз, там тоже есть фейк-база. Его адрес:
```
http://localhost:8080/api/form?client=admin4hgfvuv26idis4n8q7p6jl7yvz7uvurabjo
```
API имеет контроль запросов по IP-адресу. Для демонстрационных целей в список разрешенных адресов был добавлен IP ```127.0.0.1```.

Для создания обработчика нужно создать класс унаследовав его от класса aAction, положить его в папку ```engine/Actions/Html``` либо ```engine/Actions/Json``` (в зависимости от того какой формат нужен на выходе), и определить в конфигурации мапинг URL-адреса на обработчик в константном массиве ```ACTIONS```.
